<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Participantes</title>
    <link rel="stylesheet" href="../css/style.css"> 
</head>
<body>

    <header>
        <h1>Registro de Posibles Participantes</h1>
    </header>

    <main>
        <form action="../backend/registrar_participante.php" method="POST">

            <div>
                <label for="correo">Correo Electrónico (Clave Única):</label>
                <input type="email" id="correo" name="correo" required placeholder="ejemplo@dominio.com">
            </div>

            <div>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
            </div>

            <div>
                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" required>
            </div>

            <hr>
            
            <div>
                <label for="campo1">Campo Adicional 1:</label>
                <input type="text" id="campo1" name="campo1">
            </div>

            <div>
                <label for="campo2">Campo Adicional 2:</label>
                <input type="text" id="campo2" name="campo2">
            </div>

            <div>
                <label for="campo3">Campo Adicional 3:</label>
                <input type="text" id="campo3" name="campo3">
            </div>
            
            <button type="submit">Registrar Participante</button>

        </form>
        <p><a href="../index.html">← Volver al Panel</a></p>
    </main>
<script>
    window.onload = function() {
        // Analizamos la dirección web para buscar mensajes
        const urlParams = new URLSearchParams(window.location.search);
        const msg = urlParams.get('msg');

        if (msg === 'exito') {
            alert("✅ ¡Registro Exitoso! El participante ha sido guardado correctamente.");
            // Limpiamos la URL para que no repita la alerta al recargar
            window.history.replaceState({}, document.title, window.location.pathname);
        } 
        else if (msg === 'error_duplicado') {
            alert("❌ Error: Este correo electrónico ya está registrado en el sistema.");
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    };
</script>
</body>
</html>
